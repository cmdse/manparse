<?xml version="1.0" encoding="UTF-8"?>
<!DOCTYPE refentry PUBLIC "-//OASIS//DTD DocBook XML V4.4//EN"
        "http://www.oasis-open.org/docbook/xml/4.4/docbookx.dtd">
<!-- lifted from DocBook+man+troff by doclifter -->
<refentry>
  <!-- ' t
  Title: doclifter
  Author: [see the "Author" section]
  Generator: DocBook XSL Stylesheets v1.79.1 &lt;<ulink url='http://docbook.sf.net/&gt;'>http://docbook.sf.net/&gt;</ulink>
  Date: 02/17/2018
  Manual: Documentation Tools
  Source: doclifter
  Language: English -->

  <!-- ".TH "DOCLIFTER" "1" "02/17/2018" "doclifter" "Documentation Tools" -->

  <!-- * Define some portability stuff -->

  <!-- ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~
  <ulink url='http://bugs.debian.org/507673'>http://bugs.debian.org/507673</ulink>
  <ulink url='http://lists.gnu.org/archive/html/groff/2009&bsol;-02/msg00013.html'>http://lists.gnu.org/archive/html/groff/2009&bsol;-02/msg00013.html</ulink>
  ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~
  ".ie 0 .ds Aq &apos;'
  ".el       .ds Aq ' -->

  <!-- * set default formatting -->

  <!-- disable hyphenation
  ".nh
  disable justification (adjust text to left margin only)
  ".ad l -->

  <!-- * MAIN CONTENT STARTS HERE * -->

  <refnamediv>
    <refname>doclifter</refname>
    <refpurpose>translate troff requests into DocBook</refpurpose>
  </refnamediv>
  <!-- body begins here -->
  <refsynopsisdiv id='synopsis'>
    <cmdsynopsis>
      <command>doclifter</command>    <arg choice='opt'>-e <replaceable>output-encoding</replaceable></arg>
      <arg choice='opt'>-i <replaceable>input-encodings</replaceable></arg>
      <arg choice='opt'>-h <replaceable>hintfile</replaceable></arg>
      <arg choice='opt'>-q </arg>
      <arg choice='opt'>-x </arg>
      <arg choice='opt'>-v </arg>
      <arg choice='opt'>-w </arg>
      <arg choice='opt'>-V </arg>
      <arg choice='opt'>-D <replaceable>token=type</replaceable></arg>
      <arg choice='opt'>-I <replaceable>path</replaceable></arg>
      <arg choice='opt'>-S <replaceable>spoofname</replaceable></arg>
      <arg choice='plain' rep='repeat'><replaceable>file</replaceable></arg>

    </cmdsynopsis>
  </refsynopsisdiv>


  <refsect1 id='description'><title>DESCRIPTION</title>
    <para><emphasis role='strong' remap='B'>doclifter</emphasis>
      translates documents written in troff macros to DocBook. Structural subsets of the requests in
      <citerefentry><refentrytitle>man</refentrytitle><manvolnum>7</manvolnum></citerefentry>,
      <citerefentry><refentrytitle>mdoc</refentrytitle><manvolnum>7</manvolnum></citerefentry>,
      <citerefentry><refentrytitle>ms</refentrytitle><manvolnum>7</manvolnum></citerefentry>,
      <citerefentry><refentrytitle>me</refentrytitle><manvolnum>7</manvolnum></citerefentry>,
      <citerefentry><refentrytitle>mm</refentrytitle><manvolnum>7</manvolnum></citerefentry>, and
      <citerefentry><refentrytitle>troff</refentrytitle><manvolnum>1</manvolnum></citerefentry>
      are supported.</para>

    <para>The translation brings over all the structure of the original document at section, subsection, and paragraph level. Command and C function synopses are translated into DocBook markup, not just a verbatim display. Tables (TBL markup) are translated into DocBook table markup. PIC diagrams are translated into SVG. Troff-level information that might have structural implications is preserved in XML comments.</para>

    <para>Where possible, font-change macros are translated into structural markup.
      <emphasis role='strong' remap='B'>doclifter</emphasis>
      recognizes stereotyped patterns of markup and content (such as the use of italics in a FILES section to mark filenames) and lifts them. A means to edit, add, and save semantic hints about highlighting is supported.</para>

    <para>Some cliches are recognized and lifted to structural markup even without highlighting. Patterns recognized include such things as URLs, email addresses, man page references, and C program listings.</para>

    <para>The tag
      <emphasis role='strong' remap='B'>.in</emphasis>
      and
      <emphasis role='strong' remap='B'>.ti</emphasis>
      requests are passed through with complaints. They indicate presentation-level markup that
      <emphasis role='strong' remap='B'>doclifter</emphasis>
      cannot translate into structure; the output will require hand-fixing.</para>

    <para>The tag
      <emphasis role='strong' remap='B'>.ta</emphasis>
      is passed through with a complaint unless the immediarely following by text lines contains a tab, in which case the following span of lines containing tabs is lifted to a table.</para>

    <para>Under some circumstances,
      <emphasis role='strong' remap='B'>doclifter</emphasis>
      can even lift formatted manual pages and the text output produced by
      <citerefentry><refentrytitle>lynx</refentrytitle><manvolnum>1</manvolnum></citerefentry>
      from HTML. If it finds no macros in the input, but does find a NAME section header, it tries to interpret the plain text as a manual page (skipping boilerplate headers and footers generated by
      <citerefentry><refentrytitle>lynx</refentrytitle><manvolnum>1</manvolnum></citerefentry>). Translations produced in this way will be prone to miss structural features, but this fallback is good enough for simple man pages.</para>

    <para><emphasis role='strong' remap='B'>doclifter</emphasis>
      does not do a perfect job, merely a surprisingly good one. Final polish should be applied by a human being capable of recognizing patterns too subtle for a computer. But
      <emphasis role='strong' remap='B'>doclifter</emphasis>
      will almost always produce translations that are good enough to be usable before hand-hacking.</para>

    <para>See the
      Troubleshooting
      section for discussion of how to solve document conversion problems.</para>
  </refsect1>

  <refsect1 id='options'><title>OPTIONS</title>
    <para>If called without arguments
      <emphasis role='strong' remap='B'>doclifter</emphasis>
      acts as a filter, translating troff source input on standard input to DocBook markup on standard output. If called with arguments, each argument file is translated separately (but hints are retained, see below); the suffix
      .xml
      is given to the translated output.</para>

    <para>-h</para>
    <programlisting remap='RS'>
      Name a file to which information on semantic hints gathered during analysis should be written.
    </programlisting> <!-- remap='RE' -->

    <para>-D</para>
    <blockquote remap='RS'>
      <para>The
        <emphasis role='strong' remap='B'>-D</emphasis>
        allows you to post a hint. This may be useful, for example, if
        <emphasis role='strong' remap='B'>doclifter</emphasis>
        is mis-parsing a synopsis because it doesnt recognize a token as a command. This hint is merged after hints in the input source have been read.
      </para></blockquote> <!-- remap='RE' -->

    <para>-I</para>
    <blockquote remap='RS'>
      <para>The
        <emphasis role='strong' remap='B'>-I</emphasis>
        option adds its argument to the include path used when docfilter searches for inclusions. The include path is initially just the current directory.
      </para></blockquote> <!-- remap='RE' -->

    <para>-S</para>
    <programlisting remap='RS'>
      Set the filename to be used in error and warning messages. This is mainly inttended for use by test scripts.
    </programlisting> <!-- remap='RE' -->

    <para>-e</para>
    <blockquote remap='RS'>
      <para>The
        <emphasis role='strong' remap='B'>-e</emphasis>
        allows you to set the output encoding of the XML and the encoding field to be emitted in its header. It defaults to UTF-8.
      </para></blockquote> <!-- remap='RE' -->

    <para>-i</para>
    <blockquote remap='RS'>
      <para>The
        <emphasis role='strong' remap='B'>-i</emphasis>
        allows you to set a comma-separated list of encodings to be looked for in the input. The default is "ISO-8859-1,UTF-8", which should cover almost all cases.
      </para></blockquote> <!-- remap='RE' -->

    <para>-q</para>
    <blockquote remap='RS'>
      <para>Normally, requests that
        <emphasis role='strong' remap='B'>doclifter</emphasis>
        could not interpret (usually because theyre presentation-level) are passed through to XML comments in the output. The -q option suppresses this. It also suppresses listing of macros. Messages about requests that are unrecognized or cannot be translated go to standard error whatever the state of this option. This option is intended to reduce clutter when you believe you have a clean lift of a document and want to lose the troff legacy.
      </para></blockquote> <!-- remap='RE' -->

    <para>-x</para>
    <blockquote remap='RS'>
      <para>The -x option requests that
        <emphasis role='strong' remap='B'>doclifter</emphasis>
        generate DocBook version 5 compatible xml content, rather than its default DocBook version 4.4 output. Inclusions and entities may not be handled correctly with this switch enabled.
      </para></blockquote> <!-- remap='RE' -->

    <para>-v</para>
    <blockquote remap='RS'>
      <para>The -v option makes
        <emphasis role='strong' remap='B'>doclifter</emphasis>
        noisier about what its doing. This is mainly useful for debugging.
      </para></blockquote> <!-- remap='RE' -->

    <para>-w</para>
    <blockquote remap='RS'>
      <para>Enable strict portability checking. Multiple instances of -w increase the strictness. See
        the section called &ldquo;PORTABILITY CHECKING&rdquo;.
      </para></blockquote> <!-- remap='RE' -->

    <para>-V</para>
    <literallayout remap='RS'>
      With this option, the program emits a version message and exits.
    </literallayout> <!-- remap='RE' -->
  </refsect1>

  <refsect1 id='translation_rules'><title>TRANSLATION RULES</title>
    <para>Overall, you can expect that font changes will be turned into
      Emphasis
      macros with a
      Remap
      attribute taken from the troff font name. The basic font names are R, I, B, U, CW, and SM.</para>

    <para>Troff and macro-package special character escapes are mapped into ISO character entities.</para>

    <para>When
      <emphasis role='strong' remap='B'>doclifter</emphasis>
      encounters a
      <emphasis role='strong' remap='B'>.so</emphasis>
      directive, it searches for the file. If it can get read access to the file, and open it, and the file consists entirely of command lines and comments, then it is included. If any of these conditions fails, an entity reference for it is generated.</para>

    <para><emphasis role='strong' remap='B'>doclifter</emphasis>
      performs special parsing when it recognizes a display such as is generated by
      <emphasis role='strong' remap='B'>.DS/.DE</emphasis>. It repeatedly tries to parse first a function synopsis, and then plain text off what remains in the display. Thus, most inline C function prototypes will be lifted to structured markup.</para>

    <para>Some notes on specific translations:</para>

    <refsect2 id='man_translation'><title>Man Translation</title>

      <para><emphasis role='strong' remap='B'>doclifter</emphasis>
        does a good job on most man pages, It knows about the extended
        <emphasis role='strong' remap='B'>UR</emphasis>/<emphasis role='strong' remap='B'>UE</emphasis>/<emphasis role='strong' remap='B'>UN</emphasis>
        and
        <emphasis role='strong' remap='B'>URL</emphasis>
        requests supported under Linux. If any
        <emphasis role='strong' remap='B'>.UR</emphasis>
        request is present, it will translate these but not wrap URLs outide them with
        Ulink
        tags. It also knows about the extended
        <emphasis role='strong' remap='B'>.L</emphasis>
        (literal) font markup from Bell Labs Version 8, and its friends.</para>

      <para>The
        <emphasis role='strong' remap='B'>.TH</emphasis>
        macro is used to generate a
        RefMeta
        section. If present, the date/source/manual arguments (see
        <citerefentry><refentrytitle>man</refentrytitle><manvolnum>7</manvolnum></citerefentry>) are wrapped in
        RefMiscInfo
        tag pairs with those class attributes. Note that
        <emphasis role='strong' remap='B'>doclifter</emphasis>
        does not change the date.</para>

      <para><emphasis role='strong' remap='B'>doclifter</emphasis>
        performs special parsing when it recognizes a synopsis section. It repeatedly tries to parse first a function synopsis, then a command synopsis, and then plain text off what remains in the section.</para>

      <para>The following man macros are translated into emphasis tags with a remap attribute:
        <emphasis role='strong' remap='B'>.B</emphasis>,
        <emphasis role='strong' remap='B'>.I</emphasis>,
        <emphasis role='strong' remap='B'>.L</emphasis>,
        <emphasis role='strong' remap='B'>.BI</emphasis>,
        <emphasis role='strong' remap='B'>.BR</emphasis>,
        <emphasis role='strong' remap='B'>.BL</emphasis>,
        <emphasis role='strong' remap='B'>.IB</emphasis>,
        <emphasis role='strong' remap='B'>.IR</emphasis>,
        <emphasis role='strong' remap='B'>.IL</emphasis>,
        <emphasis role='strong' remap='B'>.RB</emphasis>,
        <emphasis role='strong' remap='B'>.RI</emphasis>,
        <emphasis role='strong' remap='B'>.RL</emphasis>,
        <emphasis role='strong' remap='B'>.LB</emphasis>,
        <emphasis role='strong' remap='B'>.LI</emphasis>,
        <emphasis role='strong' remap='B'>.LR</emphasis>,
        <emphasis role='strong' remap='B'>.SB</emphasis>,
        <emphasis role='strong' remap='B'>.SM</emphasis>. Some stereotyped patterns involving these macros are recognized and turned into semantic markup.</para>

      <para>The following macros are translated into paragraph breaks:
        <emphasis role='strong' remap='B'>.LP</emphasis>,
        <emphasis role='strong' remap='B'>.PP</emphasis>,
        <emphasis role='strong' remap='B'>.P</emphasis>,
        <emphasis role='strong' remap='B'>.HP</emphasis>, and the single-argument form of
        <emphasis role='strong' remap='B'>.IP</emphasis>.</para>

      <para>The two-argument form of
        <emphasis role='strong' remap='B'>.IP</emphasis>
        is translated either as a
        VariableList
        (usually) or
        ItemizedList
        (if the tag is the troff bullet or square character).</para>

      <para>The following macros are translated semantically:
        <emphasis role='strong' remap='B'>.SH</emphasis>,<emphasis role='strong' remap='B'>.SS</emphasis>,
        <emphasis role='strong' remap='B'>.TP</emphasis>,
        <emphasis role='strong' remap='B'>.UR</emphasis>,
        <emphasis role='strong' remap='B'>.UE</emphasis>,
        <emphasis role='strong' remap='B'>.UN</emphasis>,
        <emphasis role='strong' remap='B'>.IX</emphasis>. A
        <emphasis role='strong' remap='B'>.UN</emphasis>
        call just before
        <emphasis role='strong' remap='B'>.SH</emphasis>
        or
        <emphasis role='strong' remap='B'>.SS</emphasis>
        sets the ID for the new section.</para>

      <para>The
        <emphasis role='strong' remap='B'>&bsol;*R</emphasis>,
        <emphasis role='strong' remap='B'>&bsol;*(Tm</emphasis>,
        <emphasis role='strong' remap='B'>&bsol;*(lq</emphasis>, and
        <emphasis role='strong' remap='B'>&bsol;*(rq</emphasis>
        symbols are translated.</para>

      <para>The following (purely presentation-level) macros are ignored:
        <emphasis role='strong' remap='B'>.PD</emphasis>,<emphasis role='strong' remap='B'>.DT</emphasis>.</para>

      <para>The
        <emphasis role='strong' remap='B'>.RS</emphasis>/<emphasis role='strong' remap='B'>.RE</emphasis>
        macros are translated differently depending on whether or not they precede list markup. When
        <emphasis role='strong' remap='B'>.RS</emphasis>
        occurs just before
        <emphasis role='strong' remap='B'>.TP</emphasis>
        or
        <emphasis role='strong' remap='B'>.IP</emphasis>
        the result is nested lists. Otherwise, the
        <emphasis role='strong' remap='B'>.RS</emphasis>/<emphasis role='strong' remap='B'>.RE</emphasis>
        pair is translated into a
        Blockquote
        tag-pair.</para>

      <para><emphasis role='strong' remap='B'>.DS</emphasis>/<emphasis role='strong' remap='B'>.DE</emphasis>
        is not part of the documented man macro set, but is recognized because it shows up with some frequency on legacy man pages from older Unixes.</para>

      <para>Certain extension macros originally defined under Ultrix are translated structurally, including those that occasionally show up on the manual pages of Linux and other open-source Unixes.
        <emphasis role='strong' remap='B'>.EX</emphasis>/<emphasis role='strong' remap='B'>.EE</emphasis>
        (and the synonyms
        <emphasis role='strong' remap='B'>.Ex</emphasis>/<emphasis role='strong' remap='B'>.Ee</emphasis>),
        <emphasis role='strong' remap='B'>.Ds</emphasis>/<emphasis role='strong' remap='B'>.De</emphasis>,</para>

      <para><emphasis role='strong' remap='B'>.NT</emphasis>/<emphasis role='strong' remap='B'>.NE</emphasis>,
        <emphasis role='strong' remap='B'>.PN</emphasis>, and
        <emphasis role='strong' remap='B'>.MS</emphasis>
        are translated structurally.</para>

      <para>The following extension macros used by the X distribution are also recognized and translated structurally:
        <emphasis role='strong' remap='B'>.FD</emphasis>,
        <emphasis role='strong' remap='B'>.FN</emphasis>,
        <emphasis role='strong' remap='B'>.IN</emphasis>,
        <emphasis role='strong' remap='B'>.ZN</emphasis>,
        <emphasis role='strong' remap='B'>.hN</emphasis>, and
        <emphasis role='strong' remap='B'>.C{</emphasis>/<emphasis role='strong' remap='B'>.C}</emphasis>
        The
        <emphasis role='strong' remap='B'>.TA</emphasis>
        and
        <emphasis role='strong' remap='B'>.IN</emphasis>
        requests are ignored.</para>

      <para>When the man macros are active, any
        <emphasis role='strong' remap='B'>.Pp</emphasis>
        macro definition containing the request
        <emphasis role='strong' remap='B'>.PP</emphasis>
        will be ignored. and all instances of
        <emphasis role='strong' remap='B'>.Pp</emphasis>
        replaced with
        <emphasis role='strong' remap='B'>.PP</emphasis>. Similarly,
        <emphasis role='strong' remap='B'>.Tp</emphasis>
        will be replaced with
        <emphasis role='strong' remap='B'>.TP</emphasis>. This is the least painful way to deal with some frequently-encountered stereotyped wrapper definitions that would otherwise cause serious interpretation problems</para>

      <para>Known problem areas with man translation:</para>

      <blockquote remap='RS'>
        <para>&bull;
          Weird uses of
          <emphasis role='strong' remap='B'>.TP</emphasis>. These will sometime generate invalid XML and sometimes result in a FIXME comment in the generated XML (a warning message will also go to standard error).
        </para></blockquote> <!-- remap='RE' -->

      <blockquote remap='RS'>
        <para>&bull;
          It is debatable how the man macros
          <emphasis role='strong' remap='B'>.HP</emphasis>
          and
          <emphasis role='strong' remap='B'>.IP</emphasis>
          without tag should be translated. We treat them as an ordinary paragraph break. We could visually simulate a hanging paragraph with list markup, but this would not be a structural translation.
        </para></blockquote> <!-- remap='RE' -->
    </refsect2>

    <refsect2 id='pod2man_translation'><title>Pod2man Translation</title>

      <para><emphasis role='strong' remap='B'>doclifter</emphasis>
        recognizes the extension macros produced by
        <emphasis role='strong' remap='B'>pod2man</emphasis>
        (<emphasis role='strong' remap='B'>.Sh</emphasis>,
        <emphasis role='strong' remap='B'>.Sp</emphasis>,
        <emphasis role='strong' remap='B'>.Ip</emphasis>,
        <emphasis role='strong' remap='B'>.Vb</emphasis>,
        <emphasis role='strong' remap='B'>.Ve</emphasis>) and translates them structurally.</para>

      <para>The results of lifting pages produced by
        <emphasis role='strong' remap='B'>pod2man</emphasis>
        should be checked carefully by eyeball, especially the rendering of command and function synopses.
        <emphasis role='strong' remap='B'>Pod2man</emphasis>
        generates rather perverse markup;
        <emphasis role='strong' remap='B'>doclifter</emphasis>s struggle to untangle it is sometimes in vain.</para>

      <para>If possible, generate your DocBook from the POD sources. There is a
        pod2docbook
        module on CPAN that does this.</para>
    </refsect2>

    <refsect2 id='tkman_translation'><title>Tkman Translation</title>

      <para><emphasis role='strong' remap='B'>doclifter</emphasis>
        recognizes the extension macros used by the Tcl/Tk documentation system:
        <emphasis role='strong' remap='B'>.AP</emphasis>,
        <emphasis role='strong' remap='B'>.AS</emphasis>,
        <emphasis role='strong' remap='B'>.BS</emphasis>,
        <emphasis role='strong' remap='B'>.BE</emphasis>,
        <emphasis role='strong' remap='B'>.CS</emphasis>,
        <emphasis role='strong' remap='B'>.CE</emphasis>,
        <emphasis role='strong' remap='B'>.DS</emphasis>,
        <emphasis role='strong' remap='B'>.DE</emphasis>,
        <emphasis role='strong' remap='B'>.SO</emphasis>,
        <emphasis role='strong' remap='B'>.SE</emphasis>,
        <emphasis role='strong' remap='B'>.UL</emphasis>,
        <emphasis role='strong' remap='B'>.VS</emphasis>,
        <emphasis role='strong' remap='B'>.VE</emphasis>. The
        <emphasis role='strong' remap='B'>.AP</emphasis>,
        <emphasis role='strong' remap='B'>.CS</emphasis>,
        <emphasis role='strong' remap='B'>.CE</emphasis>,
        <emphasis role='strong' remap='B'>.SO</emphasis>,
        <emphasis role='strong' remap='B'>.SE</emphasis>,
        <emphasis role='strong' remap='B'>.UL</emphasis>,
        <emphasis role='strong' remap='B'>.QW</emphasis>
        and
        <emphasis role='strong' remap='B'>.PQ</emphasis>
        macros are translated structurally.</para>
    </refsect2>

    <refsect2 id='mandoc_translation'><title>Mandoc Translation</title>

      <para><emphasis role='strong' remap='B'>doclifter</emphasis>
        should be able to do an excellent job on most
        <citerefentry><refentrytitle>mdoc</refentrytitle><manvolnum>7</manvolnum></citerefentry>
        pages, because this macro package expresses a lot of semantic structure.</para>

      <para>Known problems with mandoc translation: All
        <emphasis role='strong' remap='B'>.Bd</emphasis>/<emphasis role='strong' remap='B'>.Ed</emphasis>
        display blocks are translated as
        LiteralLayout
        tag pairs
        .</para>
    </refsect2>

    <refsect2 id='ms_translation'><title>Ms Translation</title>

      <para><emphasis role='strong' remap='B'>doclifter</emphasis>
        does a good job on most ms pages. One weak spot to watch out for is the generation of Author and Affiliation tags. The heuristics used to mine this information out of the
        <emphasis role='strong' remap='B'>.AU</emphasis>
        section work for authors who format their names in the way usual for English (e.g. "M. E. Lesk", "Eric S. Raymond") but are quite brittle.</para>

      <para>For a document to be recognized as containing ms markup, it must have the extension
        .ms. This avoids problems with false positives.</para>

      <para>The
        <emphasis role='strong' remap='B'>.TL</emphasis>,
        <emphasis role='strong' remap='B'>.AU</emphasis>,
        <emphasis role='strong' remap='B'>.AI</emphasis>, and
        <emphasis role='strong' remap='B'>.AE</emphasis>
        macros turn into article metainformation in the expected way. The
        <emphasis role='strong' remap='B'>.PP</emphasis>,
        <emphasis role='strong' remap='B'>.LP</emphasis>,
        <emphasis role='strong' remap='B'>.SH</emphasis>, and
        <emphasis role='strong' remap='B'>.NH</emphasis>
        macros turn into paragraph and section structure. The tagged form of
        <emphasis role='strong' remap='B'>.IP</emphasis>
        is translated either as a
        VariableList
        (usually) or
        ItemizedList
        (if the tag is the troff bullet or square character); the untagged version is treated as an ordinary paragraph break.</para>

      <para>The
        <emphasis role='strong' remap='B'>.DS</emphasis>/<emphasis role='strong' remap='B'>.DE</emphasis>
        pair is translated to a
        LiteralLayout
        tag pair
        . The
        <emphasis role='strong' remap='B'>.FS</emphasis>/<emphasis role='strong' remap='B'>.FE</emphasis>
        pair is translated to a
        Footnote
        tag pair. The
        <emphasis role='strong' remap='B'>.QP</emphasis>/<emphasis role='strong' remap='B'>.QS</emphasis>/<emphasis role='strong' remap='B'>.QE</emphasis>
        requests define
        BlockQuotes.</para>

      <para>The
        <emphasis role='strong' remap='B'>.UL</emphasis>
        font change is mapped to U.
        <emphasis role='strong' remap='B'>.SM</emphasis>
        and
        <emphasis role='strong' remap='B'>.LG</emphasis>
        become numeric plus or minus size steps suffixed to the
        Remap
        attribute.</para>

      <para>The
        <emphasis role='strong' remap='B'>.B1</emphasis>
        and
        <emphasis role='strong' remap='B'>.B2</emphasis>
        box macros are translated to a
        Sidebar
        tag pair.</para>

      <para>All macros relating to page footers, multicolumn mode, and keeps are ignored (<emphasis role='strong' remap='B'>.ND</emphasis>,
        <emphasis role='strong' remap='B'>.DA</emphasis>,
        <emphasis role='strong' remap='B'>.1C</emphasis>,
        <emphasis role='strong' remap='B'>.2C</emphasis>,
        <emphasis role='strong' remap='B'>.MC</emphasis>,
        <emphasis role='strong' remap='B'>.BX</emphasis>,
        <emphasis role='strong' remap='B'>.KS</emphasis>,
        <emphasis role='strong' remap='B'>.KE</emphasis>,
        <emphasis role='strong' remap='B'>.KF</emphasis>). The
        <emphasis role='strong' remap='B'>.R</emphasis>,
        <emphasis role='strong' remap='B'>.RS</emphasis>, and
        <emphasis role='strong' remap='B'>.RE</emphasis>
        macros are ignored as well.</para>
    </refsect2>

    <refsect2 id='me_translation'><title>Me Translation</title>

      <para>Translation of me documents tends to produce crude results that need a lot of hand-hacking. The format has little usable structure, and documents written in it tend to use a lot of low-level troff macros; both these properties tend to confuse
        <emphasis role='strong' remap='B'>doclifter</emphasis>.</para>

      <para>For a document to be recognized as containing me markup, it must have the extension
        .me. This avoids problems with false positives.</para>

      <para>The following macros are translated into paragraph breaks:
        <emphasis role='strong' remap='B'>.lp</emphasis>,
        <emphasis role='strong' remap='B'>.pp</emphasis>. The
        <emphasis role='strong' remap='B'>.ip</emphasis>
        macro is translated into a
        VariableList. The
        <emphasis role='strong' remap='B'>.bp</emphasis>
        macro is translated into an
        ItemizedList. The
        <emphasis role='strong' remap='B'>.np</emphasis>
        macro is translated into an
        OrderedList.</para>

      <para>The b, i, and r fonts are mapped to emphasis tags with B, I, and R
        Remap
        attributes. The
        <emphasis role='strong' remap='B'>.rb</emphasis>
        ("real bold") font is treated the same as
        <emphasis role='strong' remap='B'>.b</emphasis>.</para>

      <para><emphasis role='strong' remap='B'>.q(</emphasis>/<emphasis role='strong' remap='B'>.q)</emphasis>
        is translated structurally
        .</para>

      <para>Most other requests are ignored.</para>
    </refsect2>

    <refsect2 id='mm_translation'><title>Mm Translation</title>

      <para>Memorandum Macros documents translate well, as these macros carry a lot of structural information. The translation rules are tuned for Memorandum or Released Paper styles; information associated with external-letter style will be preserved in comments.</para>

      <para>For a document to be recognized as containing mm markup, it must have the extension
        .mm. This avoids problems with false positives.</para>

      <para>The following highlight macros are translated int Emphasis tags:
        <emphasis role='strong' remap='B'>.B</emphasis>,
        <emphasis role='strong' remap='B'>.I</emphasis>,
        <emphasis role='strong' remap='B'>.R</emphasis>,
        <emphasis role='strong' remap='B'>.BI</emphasis>,
        <emphasis role='strong' remap='B'>.BR</emphasis>,
        <emphasis role='strong' remap='B'>.IB</emphasis>,
        <emphasis role='strong' remap='B'>.IR</emphasis>,
        <emphasis role='strong' remap='B'>.RB</emphasis>,
        <emphasis role='strong' remap='B'>.RI</emphasis>.</para>

      <para>The following macros are structurally translated:
        <emphasis role='strong' remap='B'>.AE</emphasis>,
        <emphasis role='strong' remap='B'>.AF</emphasis>,
        <emphasis role='strong' remap='B'>.AL</emphasis>,
        <emphasis role='strong' remap='B'>.RL</emphasis>,
        <emphasis role='strong' remap='B'>.APP</emphasis>,
        <emphasis role='strong' remap='B'>.APPSK</emphasis>,
        <emphasis role='strong' remap='B'>.AS</emphasis>,
        <emphasis role='strong' remap='B'>.AT</emphasis>,
        <emphasis role='strong' remap='B'>.AU</emphasis>,
        <emphasis role='strong' remap='B'>.B1</emphasis>,
        <emphasis role='strong' remap='B'>.B2</emphasis>,
        <emphasis role='strong' remap='B'>.BE</emphasis>,
        <emphasis role='strong' remap='B'>.BL</emphasis>,
        <emphasis role='strong' remap='B'>.ML</emphasis>,
        <emphasis role='strong' remap='B'>.BS</emphasis>,
        <emphasis role='strong' remap='B'>.BVL</emphasis>,
        <emphasis role='strong' remap='B'>.VL</emphasis>,
        <emphasis role='strong' remap='B'>.DE</emphasis>,
        <emphasis role='strong' remap='B'>.DL</emphasis>
        <emphasis role='strong' remap='B'>.DS</emphasis>,
        <emphasis role='strong' remap='B'>.FE</emphasis>,
        <emphasis role='strong' remap='B'>.FS</emphasis>,
        <emphasis role='strong' remap='B'>.H</emphasis>,
        <emphasis role='strong' remap='B'>.HU</emphasis>,
        <emphasis role='strong' remap='B'>.IA</emphasis>,
        <emphasis role='strong' remap='B'>.IE</emphasis>,
        <emphasis role='strong' remap='B'>.IND</emphasis>,
        <emphasis role='strong' remap='B'>.LB</emphasis>,
        <emphasis role='strong' remap='B'>.LC</emphasis>,
        <emphasis role='strong' remap='B'>.LE</emphasis>,
        <emphasis role='strong' remap='B'>.LI</emphasis>,
        <emphasis role='strong' remap='B'>.P</emphasis>,
        <emphasis role='strong' remap='B'>.RF</emphasis>,
        <emphasis role='strong' remap='B'>.SM</emphasis>,
        <emphasis role='strong' remap='B'>.TL</emphasis>,
        <emphasis role='strong' remap='B'>.VERBOFF</emphasis>,
        <emphasis role='strong' remap='B'>.VERBON</emphasis>,
        <emphasis role='strong' remap='B'>.WA</emphasis>,
        <emphasis role='strong' remap='B'>.WE</emphasis>.</para>

      <para>The following macros are ignored:</para>

      <para>&nbsp;<emphasis role='strong' remap='B'>.)E</emphasis>,
        <emphasis role='strong' remap='B'>.1C</emphasis>,
        <emphasis role='strong' remap='B'>.2C</emphasis>,
        <emphasis role='strong' remap='B'>.AST</emphasis>,
        <emphasis role='strong' remap='B'>.AV</emphasis>,
        <emphasis role='strong' remap='B'>.AVL</emphasis>,
        <emphasis role='strong' remap='B'>.COVER</emphasis>,
        <emphasis role='strong' remap='B'>.COVEND</emphasis>,
        <emphasis role='strong' remap='B'>.EF</emphasis>,
        <emphasis role='strong' remap='B'>.EH</emphasis>,
        <emphasis role='strong' remap='B'>.EDP</emphasis>,
        <emphasis role='strong' remap='B'>.EPIC</emphasis>,
        <emphasis role='strong' remap='B'>.FC</emphasis>,
        <emphasis role='strong' remap='B'>.FD</emphasis>,
        <emphasis role='strong' remap='B'>.HC</emphasis>,
        <emphasis role='strong' remap='B'>.HM</emphasis>,
        <emphasis role='strong' remap='B'>.GETR</emphasis>,
        <emphasis role='strong' remap='B'>.GETST</emphasis>,
        <emphasis role='strong' remap='B'>.HM</emphasis>,
        <emphasis role='strong' remap='B'>.INITI</emphasis>,
        <emphasis role='strong' remap='B'>.INITR</emphasis>,
        <emphasis role='strong' remap='B'>.INDP</emphasis>,
        <emphasis role='strong' remap='B'>.ISODATE</emphasis>,
        <emphasis role='strong' remap='B'>.MT</emphasis>,
        <emphasis role='strong' remap='B'>.NS</emphasis>,
        <emphasis role='strong' remap='B'>.ND</emphasis>,
        <emphasis role='strong' remap='B'>.OF</emphasis>,
        <emphasis role='strong' remap='B'>.OH</emphasis>,
        <emphasis role='strong' remap='B'>.OP</emphasis>,
        <emphasis role='strong' remap='B'>.PGFORM</emphasis>,
        <emphasis role='strong' remap='B'>.PGNH</emphasis>,
        <emphasis role='strong' remap='B'>.PE</emphasis>,
        <emphasis role='strong' remap='B'>.PF</emphasis>,
        <emphasis role='strong' remap='B'>.PH</emphasis>,
        <emphasis role='strong' remap='B'>.RP</emphasis>,
        <emphasis role='strong' remap='B'>.S</emphasis>,
        <emphasis role='strong' remap='B'>.SA</emphasis>,
        <emphasis role='strong' remap='B'>.SP</emphasis>,
        <emphasis role='strong' remap='B'>.SG</emphasis>,
        <emphasis role='strong' remap='B'>.SK</emphasis>,
        <emphasis role='strong' remap='B'>.TAB</emphasis>,
        <emphasis role='strong' remap='B'>.TB</emphasis>,
        <emphasis role='strong' remap='B'>.TC</emphasis>,
        <emphasis role='strong' remap='B'>.VM</emphasis>,
        <emphasis role='strong' remap='B'>.WC</emphasis>.</para>

      <para>The following macros generate warnings:
        <emphasis role='strong' remap='B'>.EC</emphasis>,
        <emphasis role='strong' remap='B'>.EX</emphasis>,
        <emphasis role='strong' remap='B'>.GETHN</emphasis>,
        <emphasis role='strong' remap='B'>.GETPN</emphasis>,
        <emphasis role='strong' remap='B'>.GETR</emphasis>,
        <emphasis role='strong' remap='B'>.GETST</emphasis>,
        <emphasis role='strong' remap='B'>.LT</emphasis>,
        <emphasis role='strong' remap='B'>.LD</emphasis>,
        <emphasis role='strong' remap='B'>.LO</emphasis>,
        <emphasis role='strong' remap='B'>.MOVE</emphasis>,
        <emphasis role='strong' remap='B'>.MULB</emphasis>,
        <emphasis role='strong' remap='B'>.MULN</emphasis>,
        <emphasis role='strong' remap='B'>.MULE</emphasis>,
        <emphasis role='strong' remap='B'>.NCOL</emphasis>,
        <emphasis role='strong' remap='B'>.nP</emphasis>,
        <emphasis role='strong' remap='B'>.PIC</emphasis>,
        <emphasis role='strong' remap='B'>.RD</emphasis>,
        <emphasis role='strong' remap='B'>.RS</emphasis>,
        <emphasis role='strong' remap='B'>.RE</emphasis>,
        <emphasis role='strong' remap='B'>.SETR</emphasis></para>

      <para>Pairs of
        <emphasis role='strong' remap='B'>.DS</emphasis>/<emphasis role='strong' remap='B'>.DE</emphasis>
        are interpreted as informal figures. If an
        <emphasis role='strong' remap='B'>.FG</emphasis>
        is present it becomes a caption element.</para>

      <para>&nbsp;<emphasis role='strong' remap='B'>.BS</emphasis>/<emphasis role='strong' remap='B'>.BE</emphasis>
        and
        <emphasis role='strong' remap='B'>.IA</emphasis>/<emphasis role='strong' remap='B'>.IE</emphasis>
        pairs are passed through. The text inside them may need to be deleted or moved.</para>

      <para>The mark argument of
        <emphasis role='strong' remap='B'>.ML</emphasis>
        is ignored; the following list id formatted as a normal
        ItemizedList.</para>

      <para>The contents of
        <emphasis role='strong' remap='B'>.DS</emphasis>/<emphasis role='strong' remap='B'>.DE</emphasis>
        or
        <emphasis role='strong' remap='B'>.DF</emphasis>/<emphasis role='strong' remap='B'>.DE</emphasis>
        gets turned into a
        Screen
        display. Arguments controlling presentation-level formatting are ignored.</para>
    </refsect2>

    <refsect2 id='mwww_translation'><title>Mwww Translation</title>

      <para>The mwww macros are an extension to the man macros supported by
        <citerefentry><refentrytitle>groff</refentrytitle><manvolnum>1</manvolnum></citerefentry>
        for producing web pages.</para>

      <para>The
        <emphasis role='strong' remap='B'>URL</emphasis>,
        <emphasis role='strong' remap='B'>FTP</emphasis>,
        <emphasis role='strong' remap='B'>MAILTO</emphasis>,
        <emphasis role='strong' remap='B'>FTP</emphasis>,
        <emphasis role='strong' remap='B'>IMAGE</emphasis>,
        <emphasis role='strong' remap='B'>TAG</emphasis>
        tags are translated structurally. The
        <emphasis role='strong' remap='B'>HTMLINDEX</emphasis>,
        <emphasis role='strong' remap='B'>BODYCOLOR</emphasis>,
        <emphasis role='strong' remap='B'>BACKGROUND</emphasis>,
        <emphasis role='strong' remap='B'>HTML</emphasis>, and
        <emphasis role='strong' remap='B'>LINE</emphasis>
        tags are ignored.</para>
    </refsect2>

    <refsect2 id='tbl_translation'><title>TBL Translation</title>

      <para>All structural features of TBL tables are translated, including both horizontal and vertical spanning with &lsquo;s&rsquo; and &lsquo;^&rsquo;. The &lsquo;l&rsquo;, &lsquo;r&rsquo;, and &lsquo;c&rsquo; formats are supported; the &lsquo;n&rsquo; column format is rendered as &lsquo;r&rsquo;. Line continuations with
        T{
        and
        T}
        are handled correctly. So is
        <emphasis role='strong' remap='B'>.TH</emphasis>.</para>

      <para>The
        <emphasis role='strong' remap='B'>expand</emphasis>,
        <emphasis role='strong' remap='B'>box</emphasis>,
        <emphasis role='strong' remap='B'>doublebox</emphasis>,
        <emphasis role='strong' remap='B'>allbox</emphasis>,
        <emphasis role='strong' remap='B'>center</emphasis>,
        <emphasis role='strong' remap='B'>left</emphasis>, and
        <emphasis role='strong' remap='B'>right</emphasis>
        options are supported. The GNU synonyms
        <emphasis role='strong' remap='B'>frame</emphasis>
        and
        <emphasis role='strong' remap='B'>doubleframe</emphasis>
        are also recognized. But the distinction between single and double rules and boxes is lost.</para>

      <para>Table continuations (.T&amp;) are not supported.</para>

      <para>If the first nonempty line of text immediately before a table is boldfaced, it is interpreted as a title for the table and the table is generated using a
        table
        and
        title. Otherwise the table is translated with
        informaltable.</para>

      <para>Most other presentation-level TBL commands are ignored. The &lsquo;b&rsquo; format qualifier is processed, but point size and width qualifiers are not.</para>
    </refsect2>

    <refsect2 id='pic_translation'><title>Pic Translation</title>

      <para>PIC sections are translated to SVG.
        doclifter
        calls out to
        <citerefentry><refentrytitle>pic2plot</refentrytitle><manvolnum>1</manvolnum></citerefentry>
        to accomplish this; you must have that utility installed for PIC translation to work.</para>
    </refsect2>

    <refsect2 id='eqn_translation'><title>Eqn Translation</title>

      <para>EQN sections are filtered into embedded MathML with
        <emphasis role='strong' remap='B'>eqn -TMathML</emphasis>
        if possible, otherwise passed through enclosed in
        LiteralLayout
        tags. After a delim statement has been seen, inline eqn delimiters are translated into an XML processing instruction. Exception: inline eqn equations consisting of a single character are translated to an
        Emphasis
        with a Role attribute of eqn.</para>
    </refsect2>

    <refsect2 id='troff_translation'><title>Troff Translation</title>

      <para>The troff translation is meant only to support interpretation of the macro sets. It is not useful standalone.</para>

      <para>The
        <emphasis role='strong' remap='B'>.nf</emphasis>
        and
        <emphasis role='strong' remap='B'>.fi</emphasis>
        macros are interpreted as literal-layout boundaries. Calls to the
        <emphasis role='strong' remap='B'>.so</emphasis>
        macro either cause inclusion or are translated into XML entity inclusions (see above). Calls to the
        <emphasis role='strong' remap='B'>.ul</emphasis>
        and
        <emphasis role='strong' remap='B'>.cu</emphasis>
        macros cause following lines to be wrapped in an
        Emphasis
        tag with a
        Remap
        attribute of "U". Calls to
        <emphasis role='strong' remap='B'>.ft</emphasis>
        generate corresponding start or end emphasis tags. Calls to
        <emphasis role='strong' remap='B'>.tr</emphasis>
        cause character translation on output. Calls to
        <emphasis role='strong' remap='B'>.bp</emphasis>
        generate a
        BeginPage
        tag (in paragraphed text only). Calls to
        <emphasis role='strong' remap='B'>.sp</emphasis>
        generate a paragraph break (in paragraphed text only). Calls to
        <emphasis role='strong' remap='B'>.ti</emphasis>
        wrap the following line in a
        BlockQuote
        These are the only troff requests we translate to DocBook. The rest of the troff emulation exists because macro packages use it internally to expand macros into elements that might be structural.</para>

      <para>Requests relating to macro definitions and strings (<emphasis role='strong' remap='B'>.ds</emphasis>,
        <emphasis role='strong' remap='B'>.as</emphasis>,
        <emphasis role='strong' remap='B'>.de</emphasis>,
        <emphasis role='strong' remap='B'>.am</emphasis>,
        <emphasis role='strong' remap='B'>.rm</emphasis>,
        <emphasis role='strong' remap='B'>.rn</emphasis>,
        <emphasis role='strong' remap='B'>.em</emphasis>) are processed and expanded. The
        <emphasis role='strong' remap='B'>.ig</emphasis>
        macro is also processed.</para>

      <para>Conditional macros (<emphasis role='strong' remap='B'>.if</emphasis>,
        <emphasis role='strong' remap='B'>.ie</emphasis>,
        <emphasis role='strong' remap='B'>.el</emphasis>) are handled. The built-in conditions o, n, t, e, and c are evaluated as if for
        nroff
        on page one of a document. The m, d, and r troff conditionals are also interpreted. String comparisons are evaluated by straight textual comparison. All numeric expressions evaluate to true.</para>

      <para>The extended
        groff
        requests
        <emphasis role='strong' remap='B'>cc</emphasis>,
        <emphasis role='strong' remap='B'>c2</emphasis>,
        <emphasis role='strong' remap='B'>ab</emphasis>,
        <emphasis role='strong' remap='B'>als</emphasis>,
        <emphasis role='strong' remap='B'>do</emphasis>,
        <emphasis role='strong' remap='B'>nop</emphasis>, and
        <emphasis role='strong' remap='B'>return</emphasis>
        and
        <emphasis role='strong' remap='B'>shift</emphasis>
        are interpreted. Its
        <emphasis role='strong' remap='B'>.PSPIC</emphasis>
        extension is translated into a
        MediaObject.</para>

      <para>The
        <emphasis role='strong' remap='B'>.tm</emphasis>
        macro writes its arguments to standard error (with
        <emphasis role='strong' remap='B'>-t</emphasis>). The
        <emphasis role='strong' remap='B'>.pm</emphasis>
        macro reports on defined macros and strings. These facilities may aid in debugging your translation.</para>

      <para>Some troff escape sequences are lifted:</para>

      <blockquote remap='RS'>
        <para>\h'-04' 1.\h'+01'
          The &bsol;e and &bsol;&bsol; escapes become a bare backslash, &bsol;. a period, and &bsol;- a bare dash.
        </para></blockquote> <!-- remap='RE' -->

      <blockquote remap='RS'>
        <para>\h'-04' 2.\h'+01'
          The troff escapes &bsol;^, &bsol;`, &bsol; &bsol;&amp;, &bsol;0, and &bsol;| are lifted to equivalent ISO special spacing characters.
        </para></blockquote> <!-- remap='RE' -->

      <blockquote remap='RS'>
        <para>\h'-04' 3.\h'+01'
          A &bsol; followed by space is translated to an ISO non-breaking space entity.
        </para></blockquote> <!-- remap='RE' -->

      <blockquote remap='RS'>
        <para>\h'-04' 4.\h'+01'
          A &bsol;~ is also translated to an ISO non-breaking space entity; properly this should be a space that cant be used for a linebreak but stretches like ordinary whitepace during line adjustment, but there is no ISO or Unicode entity for that.
        </para></blockquote> <!-- remap='RE' -->

      <blockquote remap='RS'>
        <para>\h'-04' 5.\h'+01'
          The &bsol;u and &bsol;d half-line motion vertical motion escapes, when paired, become
          <emphasis role='strong' remap='B'>Superscript</emphasis>
          or
          <emphasis role='strong' remap='B'>Subscript</emphasis>
          tags.
        </para></blockquote> <!-- remap='RE' -->

      <blockquote remap='RS'>
        <para>\h'-04' 6.\h'+01'
          The &bsol;c escape is handled as a line continuation. in circumstances where that matters (e.g. for token-pasting).
        </para></blockquote> <!-- remap='RE' -->

      <blockquote remap='RS'>
        <para>\h'-04' 7.\h'+01'
          The &bsol;f escape for font changes is translated in various context-dependent ways. First,
          <emphasis role='strong' remap='B'>doclifter</emphasis>
          looks for cliches involving font changes that have semantic meaning, and lifts to a structural tag. If it cant do that, it generates an
          Emphasis
          tag.
        </para></blockquote> <!-- remap='RE' -->

      <blockquote remap='RS'>
        <para>\h'-04' 8.\h'+01'
          The &bsol;m[] extension is translated into a
          phrase
          span with a remap attribute carrying the color. Note: Stylesheets typically wont render this!
        </para></blockquote> <!-- remap='RE' -->

      <blockquote remap='RS'>
        <para>\h'-04' 9.\h'+01'
          Some uses of the &bsol;o request are translated: pairs with a letter followed by one of the characters `  : ^ o ~ are translated to combining forms with diacriticals acute, grave, umlaut, circumflex, ring, and tilde respectively if the corresponding Latin-1 or Latin-2 character exists as an ISO literal.
        </para></blockquote> <!-- remap='RE' -->

      <para>Other escapes than these will yield warnings or errors.</para>

      <para>All other troff requests are ignored but passed through into XML comments. A few (such as
        <emphasis role='strong' remap='B'>.ce</emphasis>) also trigger a warning message.</para>
    </refsect2>
  </refsect1>

  <refsect1 id='portability_checking'><title>PORTABILITY CHECKING</title>
    <para>When portability checking is enabled,
      <emphasis role='strong' remap='B'>doclifter</emphasis>
      emits portability warnings about markup which it can handle but which will break various other viewers and interpreters.</para>

    <blockquote remap='RS'>
      <para>\h'-04' 1.\h'+01'
        At level 1, it will warn about constructions that would break
        <citerefentry><refentrytitle>man2html</refentrytitle><manvolnum>1</manvolnum></citerefentry>, (the C program distributed with Linux
        <citerefentry><refentrytitle>man</refentrytitle><manvolnum>1</manvolnum></citerefentry>, not the older and much less capable Perl script). A close derivative of this code is used in GNOME
        yelp. This should be the minimum level of portability you aim for, and corresponds to what is recommended on the
        <citerefentry><refentrytitle>groff_man</refentrytitle><manvolnum>7</manvolnum></citerefentry>
        manual page.
      </para></blockquote> <!-- remap='RE' -->

    <blockquote remap='RS'>
      <para>\h'-04' 2.\h'+01'
        At level 2, it will warn about constructions that will break portability back to the Unix classic tools (including long macro names and glyph references with &bsol;[]).
      </para></blockquote> <!-- remap='RE' -->
  </refsect1>

  <refsect1 id='semantic_analysis'><title>SEMANTIC ANALYSIS</title>
    <para><emphasis role='strong' remap='B'>doclifter</emphasis>
      keeps two lists of semantic hints that it picks up from analyzing source documents (especially from parsing command and function synopses). The local list includes:</para>

    <blockquote remap='RS'>
      <para>&bull;
        Names of function formal arguments
      </para></blockquote> <!-- remap='RE' -->

    <blockquote remap='RS'>
      <para>&bull;
        Names of command options
      </para></blockquote> <!-- remap='RE' -->

    <para>Local hints are used to mark up the individual page from which they are gathered. The global list includes:</para>

    <blockquote remap='RS'>
      <para>&bull;
        Names of functions
      </para></blockquote> <!-- remap='RE' -->

    <blockquote remap='RS'>
      <para>&bull;
        Names of commands
      </para></blockquote> <!-- remap='RE' -->

    <blockquote remap='RS'>
      <para>&bull;
        Names of function return types
      </para></blockquote> <!-- remap='RE' -->

    <para>If
      <emphasis role='strong' remap='B'>doclifter</emphasis>
      is applied to multiple files, the global list is retained in memory. You can dump a report of global hints at the end of the run with the
      <emphasis role='strong' remap='B'>-h</emphasis>
      option. The format of the hints is as follows:</para>

    <blockquote remap='RS'>

      <literallayout remap='.nf'>
        &nbsp;.&bsol;" | mark &lt;phrase&gt; as &lt;markup&gt;
      </literallayout> <!-- .fi -->
    </blockquote> <!-- remap='RE' -->


    <para>where
      <emphasis role='strong' remap='B'>&lt;phrase&gt;</emphasis>
      is an item of text and
      <emphasis role='strong' remap='B'>&lt;markup&gt;</emphasis>
      is the DocBook markup text it should be wrapped with whenever it appeared either highlighted or as a word surrounded by whitespace in the source text.</para>

    <para>Hints derived from earlier files are also applied to later ones. This behavior may be useful when lifting collections of documents that apply to a function or command library. What should be more useful is the fact that a hints file dumped with
      <emphasis role='strong' remap='B'>-h</emphasis>
      can be one of the file arguments to
      <emphasis role='strong' remap='B'>doclifter</emphasis>; the code detects this special case and does not write XML output for such a file. Thus, a good procedure for lifting a large library is to generate a hints file with a first run, inspect it to delete false positives, and use it as the first input to a second run.</para>

    <para>It is also possible to include a hints file directly in a troff sourcefile. This may be useful if you want to enrich the file by stages before converting to XML.</para>
  </refsect1>

  <refsect1 id='troubleshooting'><title>TROUBLESHOOTING</title>
    <para><emphasis role='strong' remap='B'>doclifter</emphasis>
      tries to warn about problems that it can can diagnose but not fix by itself. When it says
      "look for FIXME", do that in the generated XML; the markup around that token may be wrong.</para>

    <para>Occasionally (less than 2% of the time)
      <emphasis role='strong' remap='B'>doclifter</emphasis>
      will produce invalid DocBook markup even from correct troff markup. Usually this results from strange constructions in the source page, or macro calls that are beyond the ability of
      <emphasis role='strong' remap='B'>doclifter</emphasis>s macro processor to get right. Here are some things to watch for, and how to fix them:</para>

    <refsect2 id='malformed_command_synopsesamp'><title>Malformed command synopses.</title>

      <para>If you get a message that says
        "command synopsis parse failed", try rewriting the synopsis in your manual page source. The most common cause of failure is unbalanced [] groupings, a bug that can be very difficult to notice by eyeball. To assist with this, the error message includes a token number in parentheses indicating on which token the parse failed.</para>

      <para>For more information, use the -v option. This will trigger a dump telling you what the command synopsis looked like after preprocessing, and indicate on which token the parse failed (both with a token number and a caret sign inserted in the dump of the synopsis tokens). Try rewriting the synopsis in your manual page source. The most common cause of failure is unbalanced [] groupings, a bug that can be very difficult to notice by eyeball. To assist with this, the error token dump tries to insert &lsquo;$&rsquo; at the point of the last nesting-depth increase, but the code that does this is failure-prone.</para>
    </refsect2>

    <refsect2 id='confusing_macro_callsamp'><title>Confusing macro calls.</title>

      <para>Some manual page authors replace standard requests (like
        <emphasis role='strong' remap='B'>.PP</emphasis>,
        <emphasis role='strong' remap='B'>.SH</emphasis>
        and
        <emphasis role='strong' remap='B'>.TP</emphasis>) with versions that do different things in
        <emphasis role='strong' remap='B'>nroff</emphasis>
        and
        <emphasis role='strong' remap='B'>troff</emphasis>
        environments. While
        <emphasis role='strong' remap='B'>doclifter</emphasis>
        tries to cope and usually does a good job, the quirks of [nt]roff are legion and confusing macro calls sometimes lead to bad XML being generated. A common symptom of such problems is unclosed
        Emphasis
        tags.</para>
    </refsect2>

    <refsect2 id='malformed_list_syntaxamp'><title>Malformed list syntax.</title>

      <para>The manual-page parser can be confused by
        <emphasis role='strong' remap='B'>.TP</emphasis>
        constructs that have header tags but no following body. If the XML produced doesnt validate, and the problem seems to be a misplaced
        listitem
        tag, try using the verbose (-v) option. This will enable line-numbered warnings that may help you zero in on the problem.</para>
    </refsect2>

    <refsect2 id='section_nesting_problems_with_ssamp'><title>Section nesting problems with SS.</title>

      <para>The message
        "possible section nesting error"
        means that the program has seen two adjacent subsection headers. In man pages, subsections dont have a depth argument, so
        <emphasis role='strong' remap='B'>doclifter</emphasis>
        cannot be certain how subsections should be nested. Any subsection heading between the indicated line and the beginning of the next top-level section might be wrong and require correcting by hand.</para>
    </refsect2>

    <refsect2 id='bad_output_with_no_doclifter_error_messa'><title>Bad output with no doclifter error message</title>

      <para>If youre translating a page that uses user-defined macros, and doclifter fails to complain about it but you get bad output, the first thing to do is simplify or eliminate the user-defined macros. Replace them with stock requests where possible.</para>
    </refsect2>
  </refsect1>

  <refsect1 id='improving_translation_quality'><title>IMPROVING TRANSLATION QUALITY</title>
    <para>There are a few constructions that are a good idea to check by hand after lifting a page.</para>

    <para>Look near the
      BlockQuote
      tags. The troff temporary indent request (<emphasis role='strong' remap='B'>.ti</emphasis>) is translated into a
      BlockQuote
      wrapper around the following line. Sometimes
      LiteralLayout
      or
      ProgramListing
      would be a better translation, but
      <emphasis role='strong' remap='B'>doclifter</emphasis>
      has no way to know this.</para>

    <para>It is not possible to unambiguously detect candidates for wrapping in a DocBook
      option
      tag in running text. If you care, youll have to check for these and fix them by hand.</para>
  </refsect1>

  <refsect1 id='bugs_and_limitations'><title>BUGS AND LIMITATIONS</title>
    <para>About 3% of man pages will either make this program throw error status 1 or generate invalid XML. In almost all such cases the misbehavior is triggered by markup bugs in the source that are too severe to be coped with.</para>

    <para>Equation number arguments of EQN calls are ignored.</para>

    <para>Semicolon used as a TBL field separator will lead to garbled tables. The easiest way to fix this is by patching the source.</para>

    <para>The function-synopsis parser is crude (its not a compiler) and prone to errors. Function-synopsis markup should be checked carefully by a human.</para>

    <para>If a man page has both paragraphed text in a Synopsis section and also a body section before the Synopis section, bad things will happen.</para>

    <para>Running text (e.g., explanatory notes) at the end of a Synopsis section cannot reliably be distinguished from synopsis-syntax markup. (This problem is AI-complete.)</para>

    <para>Some firewalls put in to cope with common malformations in troff code mean that the tail end of a span between two
      <emphasis role='strong' remap='B'>&bsol;f{B,I,U,(CW}</emphasis>
      or
      <emphasis role='strong' remap='B'>.ft</emphasis>
      highlight changes may not be completely covered by corresponding
      Emphasis
      macros if (for example) the span crosses a boundary between filled and unfilled (<emphasis role='strong' remap='B'>.nf</emphasis>/<emphasis role='strong' remap='B'>.fi</emphasis>) text.</para>

    <para>The treatment of conditionals relies on the assumption that conditional macros never generate structural or font-highlight markup that differs between the if and else branches. This appears to be true of all the standard macro packages, but if you roll any of your own macros youre on your own.</para>

    <para>Macro definitions in a manual page NAME section are not interpreted.</para>

    <para>Uses of &bsol;c for line continuation sometimes are not translated, leaving the &bsol;c in the output XML. The program will print a warning when this occurs.</para>

    <para>It is not possible to unambiguously detect candidates for wrapping in a DocBook
      option
      tag in running text. If you care, youll have to check for these and fix them by hand.</para>

    <para>The line numbers in
      <emphasis role='strong' remap='B'>doclifter</emphasis>
      error messages are unreliable in the presence of
      <emphasis role='strong' remap='B'>.EQ/.EN</emphasis>,
      <emphasis role='strong' remap='B'>.PS/.PE</emphasis>, and quantum fluctuations.</para>
  </refsect1>

  <refsect1 id='old_macro_sets'><title>OLD MACRO SETS</title>
    <para>There is a conflict between Berkeley mss documented
      <emphasis role='strong' remap='B'>.P1</emphasis>
      print-header-on-page request and an undocumented Bell Labs use for displayed program and equation listings. The
      <emphasis role='strong' remap='B'>ms</emphasis>
      translator uses the Bell Labs interpretation when
      <emphasis role='strong' remap='B'>.P2</emphasis>
      is present in the document, and otherwise ignores the request.</para>
  </refsect1>

  <refsect1 id='return_values'><title>RETURN VALUES</title>
    <para>On successful completion, the program returns status 0. It returns 1 if some file or standard input could not be translated. It returns 2 if one of the input sources was a
      <emphasis role='strong' remap='B'>.so</emphasis>
      inclusion. It returns 3 if there is an error in reading or writing files. It returns 4 to indicate an internal error. It returns 5 when aborted by a keyboard interrupt.</para>

    <para>Note that a zero return does not guarantee that the output is valid DocBook. It will almost always (as in, more than 98% of cases) be syntactically valid XML, but in some rare cases fixups by hand may be necessary to meet the semantics of the DocBook DTD. Validation problems are most likely to occur with complicated list markup.</para>
  </refsect1>

  <refsect1 id='requirements'><title>REQUIREMENTS</title>
    <para>The
      <citerefentry><refentrytitle>pic2plot</refentrytitle><manvolnum>1</manvolnum></citerefentry>
      utility must be installed in order to translate PIC diagrams to SVG.</para>
  </refsect1>

  <refsect1 id='see_also'><title>SEE ALSO</title>
    <para><citerefentry><refentrytitle>man</refentrytitle><manvolnum>7</manvolnum></citerefentry>,
      <citerefentry><refentrytitle>mdoc</refentrytitle><manvolnum>7</manvolnum></citerefentry>,
      <citerefentry><refentrytitle>ms</refentrytitle><manvolnum>7</manvolnum></citerefentry>,
      <citerefentry><refentrytitle>me</refentrytitle><manvolnum>7</manvolnum></citerefentry>,
      <citerefentry><refentrytitle>mm</refentrytitle><manvolnum>7</manvolnum></citerefentry>,
      <citerefentry><refentrytitle>mwww</refentrytitle><manvolnum>7</manvolnum></citerefentry>,
      <citerefentry><refentrytitle>troff</refentrytitle><manvolnum>1</manvolnum></citerefentry>.</para>
  </refsect1>

  <refsect1 id='author'><title>AUTHOR</title>
    <para>Eric S. Raymond
      &lt;esr@thyrsus.com&gt;</para>

    <para>There is a project web page at
      <phrase remap='color:blue'><emphasis role='strong' remap='B'><ulink url='http://www.catb.org/~esr/doclifter/'>http://www.catb.org/~esr/doclifter/</ulink></emphasis></phrase>.</para>
  </refsect1>
</refentry>

