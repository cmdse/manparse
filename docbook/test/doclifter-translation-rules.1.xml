<?xml version="1.0" encoding="UTF-8"?>
<!DOCTYPE refentry PUBLIC "-//OASIS//DTD DocBook XML V4.4//EN"
        "http://www.oasis-open.org/docbook/xml/4.4/docbookx.dtd">
<!-- lifted from DocBook+man+troff by doclifter -->
<refentry>
    <refsect1 id='translation_rules'><title>TRANSLATION RULES</title>

        <refsect2 id='man_translation'><title>Man Translation</title>

            <para><emphasis role='strong' remap='B'>doclifter</emphasis>
                does a good job on most man pages, It knows about the extended
                <emphasis role='strong' remap='B'>UR</emphasis>/<emphasis role='strong' remap='B'>UE</emphasis>/<emphasis role='strong' remap='B'>UN</emphasis>
                and
                <emphasis role='strong' remap='B'>URL</emphasis>
                requests supported under Linux. If any
                <emphasis role='strong' remap='B'>.UR</emphasis>
                request is present, it will translate these but not wrap URLs outide them with
                Ulink
                tags. It also knows about the extended
                <emphasis role='strong' remap='B'>.L</emphasis>
                (literal) font markup from Bell Labs Version 8, and its friends.</para>

            <para>The
                <emphasis role='strong' remap='B'>.TH</emphasis>
                macro is used to generate a
                RefMeta
                section. If present, the date/source/manual arguments (see
                <citerefentry><refentrytitle>man</refentrytitle><manvolnum>7</manvolnum></citerefentry>) are wrapped in
                RefMiscInfo
                tag pairs with those class attributes. Note that
                <emphasis role='strong' remap='B'>doclifter</emphasis>
                does not change the date.</para>

            <para><emphasis role='strong' remap='B'>doclifter</emphasis>
                performs special parsing when it recognizes a synopsis section. It repeatedly tries to parse first a function synopsis, then a command synopsis, and then plain text off what remains in the section.</para>

            <para>The following man macros are translated into emphasis tags with a remap attribute:
                <emphasis role='strong' remap='B'>.B</emphasis>,
                <emphasis role='strong' remap='B'>.I</emphasis>,
                <emphasis role='strong' remap='B'>.L</emphasis>,
                <emphasis role='strong' remap='B'>.BI</emphasis>,
                <emphasis role='strong' remap='B'>.BR</emphasis>,
                <emphasis role='strong' remap='B'>.BL</emphasis>,
                <emphasis role='strong' remap='B'>.IB</emphasis>,
                <emphasis role='strong' remap='B'>.IR</emphasis>,
                <emphasis role='strong' remap='B'>.IL</emphasis>,
                <emphasis role='strong' remap='B'>.RB</emphasis>,
                <emphasis role='strong' remap='B'>.RI</emphasis>,
                <emphasis role='strong' remap='B'>.RL</emphasis>,
                <emphasis role='strong' remap='B'>.LB</emphasis>,
                <emphasis role='strong' remap='B'>.LI</emphasis>,
                <emphasis role='strong' remap='B'>.LR</emphasis>,
                <emphasis role='strong' remap='B'>.SB</emphasis>,
                <emphasis role='strong' remap='B'>.SM</emphasis>. Some stereotyped patterns involving these macros are recognized and turned into semantic markup.</para>

            <para>The following macros are translated into paragraph breaks:
                <emphasis role='strong' remap='B'>.LP</emphasis>,
                <emphasis role='strong' remap='B'>.PP</emphasis>,
                <emphasis role='strong' remap='B'>.P</emphasis>,
                <emphasis role='strong' remap='B'>.HP</emphasis>, and the single-argument form of
                <emphasis role='strong' remap='B'>.IP</emphasis>.</para>

            <para>The two-argument form of
                <emphasis role='strong' remap='B'>.IP</emphasis>
                is translated either as a
                VariableList
                (usually) or
                ItemizedList
                (if the tag is the troff bullet or square character).</para>

            <para>The following macros are translated semantically:
                <emphasis role='strong' remap='B'>.SH</emphasis>,<emphasis role='strong' remap='B'>.SS</emphasis>,
                <emphasis role='strong' remap='B'>.TP</emphasis>,
                <emphasis role='strong' remap='B'>.UR</emphasis>,
                <emphasis role='strong' remap='B'>.UE</emphasis>,
                <emphasis role='strong' remap='B'>.UN</emphasis>,
                <emphasis role='strong' remap='B'>.IX</emphasis>. A
                <emphasis role='strong' remap='B'>.UN</emphasis>
                call just before
                <emphasis role='strong' remap='B'>.SH</emphasis>
                or
                <emphasis role='strong' remap='B'>.SS</emphasis>
                sets the ID for the new section.</para>

            <para>The
                <emphasis role='strong' remap='B'>&bsol;*R</emphasis>,
                <emphasis role='strong' remap='B'>&bsol;*(Tm</emphasis>,
                <emphasis role='strong' remap='B'>&bsol;*(lq</emphasis>, and
                <emphasis role='strong' remap='B'>&bsol;*(rq</emphasis>
                symbols are translated.</para>

            <para>The following (purely presentation-level) macros are ignored:
                <emphasis role='strong' remap='B'>.PD</emphasis>,<emphasis role='strong' remap='B'>.DT</emphasis>.</para>

            <para>The
                <emphasis role='strong' remap='B'>.RS</emphasis>/<emphasis role='strong' remap='B'>.RE</emphasis>
                macros are translated differently depending on whether or not they precede list markup. When
                <emphasis role='strong' remap='B'>.RS</emphasis>
                occurs just before
                <emphasis role='strong' remap='B'>.TP</emphasis>
                or
                <emphasis role='strong' remap='B'>.IP</emphasis>
                the result is nested lists. Otherwise, the
                <emphasis role='strong' remap='B'>.RS</emphasis>/<emphasis role='strong' remap='B'>.RE</emphasis>
                pair is translated into a
                Blockquote
                tag-pair.</para>

            <para><emphasis role='strong' remap='B'>.DS</emphasis>/<emphasis role='strong' remap='B'>.DE</emphasis>
                is not part of the documented man macro set, but is recognized because it shows up with some frequency on legacy man pages from older Unixes.</para>

            <para>Certain extension macros originally defined under Ultrix are translated structurally, including those that occasionally show up on the manual pages of Linux and other open-source Unixes.
                <emphasis role='strong' remap='B'>.EX</emphasis>/<emphasis role='strong' remap='B'>.EE</emphasis>
                (and the synonyms
                <emphasis role='strong' remap='B'>.Ex</emphasis>/<emphasis role='strong' remap='B'>.Ee</emphasis>),
                <emphasis role='strong' remap='B'>.Ds</emphasis>/<emphasis role='strong' remap='B'>.De</emphasis>,</para>

            <para><emphasis role='strong' remap='B'>.NT</emphasis>/<emphasis role='strong' remap='B'>.NE</emphasis>,
                <emphasis role='strong' remap='B'>.PN</emphasis>, and
                <emphasis role='strong' remap='B'>.MS</emphasis>
                are translated structurally.</para>

            <para>The following extension macros used by the X distribution are also recognized and translated structurally:
                <emphasis role='strong' remap='B'>.FD</emphasis>,
                <emphasis role='strong' remap='B'>.FN</emphasis>,
                <emphasis role='strong' remap='B'>.IN</emphasis>,
                <emphasis role='strong' remap='B'>.ZN</emphasis>,
                <emphasis role='strong' remap='B'>.hN</emphasis>, and
                <emphasis role='strong' remap='B'>.C{</emphasis>/<emphasis role='strong' remap='B'>.C}</emphasis>
                The
                <emphasis role='strong' remap='B'>.TA</emphasis>
                and
                <emphasis role='strong' remap='B'>.IN</emphasis>
                requests are ignored.</para>

            <para>When the man macros are active, any
                <emphasis role='strong' remap='B'>.Pp</emphasis>
                macro definition containing the request
                <emphasis role='strong' remap='B'>.PP</emphasis>
                will be ignored. and all instances of
                <emphasis role='strong' remap='B'>.Pp</emphasis>
                replaced with
                <emphasis role='strong' remap='B'>.PP</emphasis>. Similarly,
                <emphasis role='strong' remap='B'>.Tp</emphasis>
                will be replaced with
                <emphasis role='strong' remap='B'>.TP</emphasis>. This is the least painful way to deal with some frequently-encountered stereotyped wrapper definitions that would otherwise cause serious interpretation problems</para>

            <para>Known problem areas with man translation:</para>

            <blockquote remap='RS'>
                <para>&bull;
                    Weird uses of
                    <emphasis role='strong' remap='B'>.TP</emphasis>. These will sometime generate invalid XML and sometimes result in a FIXME comment in the generated XML (a warning message will also go to standard error).
                </para></blockquote> <!-- remap='RE' -->

            <blockquote remap='RS'>
                <para>&bull;
                    It is debatable how the man macros
                    <emphasis role='strong' remap='B'>.HP</emphasis>
                    and
                    <emphasis role='strong' remap='B'>.IP</emphasis>
                    without tag should be translated. We treat them as an ordinary paragraph break. We could visually simulate a hanging paragraph with list markup, but this would not be a structural translation.
                </para></blockquote> <!-- remap='RE' -->
        </refsect2>


    </refsect1>
</refentry>